ORG     0x26C

res:WORD 0x5D1
first:WORD 0x5D1
ans: WORD 0x0A
temp:WORD ?
OUT 0xC

START:CLA

f1:IN 0x19
   AND #0x40	
   BEQ f1
   IN 0x18
   ST (res)
   ST temp
   CMP ans
   BEQ out1
   CLA
f2:IN 0x19
   AND #0x40
   BEQ f2
   IN 0x18
   SWAB
   OR temp	
   ST (res)
   SUB temp
   SWAB
   CMP ans	
   BEQ out1	
   LD (res)+	
   CLA
   JUMP f1

exit: 
   HLT

out1: LD (res)
   SWAB
   OUT 0xC
   SWAB
   OUT 0xC
   CLA
   LD res
   CMP first
   BEQ exit
   LD -(res) 
   JUMP out1

